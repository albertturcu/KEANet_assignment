<!DOCTYPE html>
<html>
  <head>
    <title>KEANet</title>
  </head>
  <body>
    <h1>KEANet</h1>
    <div>
      <input type="checkbox" onclick="setInternetConnection()" id="chkInternetConnection" />
      <label for="chkInternetConnection">Internet connection</label>
      <br />
      <label for="txtPhoneLines">Phone lines</label>
      <input type="number" id="txtPhoneLines" onclick="console.log(event)" value="0" min="0" max="8"/>
      <br />
      <label for="cmbCellPhones">Cell phones:</label>
      <br />
      <table>
        <tr>
          <td>
            <select id="txtCellPhones" size="5">
              <option value="moto">Motorola G99</option>
              <option value="iphone">iPhone 99</option>
              <option value="samsung">Samsung Galaxy 99</option>
              <option value="sony">Sony Xperia 99</option>
              <option value="huawei">Huawei 99</option>
            </select>
          </td>
          <td>
            <input type="button" onclick="selectCellPhone()" value="&gt;" />
            <br />
            <input type="button" onclick="deselectCellPhone()" value="&lt;" />
          </td>
          <td>
            <select id="txtChosenCellPhones" size="5" style="width: 150px"> </select>
          </td>
        </tr>
      </table>

      <br />
      Total price:
      <span class="totalPrice">0</span>
      DKK
      <br />
      <input type="submit" value="Buy" />
    </div>

    <script src="purchase.js" type="text/javascript"></script>
    <script>
      let purchase = new Purchase();
      let phoneLines = document.querySelector('#txtPhoneLines').value;

      document.querySelector(".totalPrice").textContent = `${purchase.price}`;

      function setInternetConnection() {
        let internetConnection = document.querySelector("#chkInternetConnection").checked;
        purchase.setInternetConnection(internetConnection);
        document.querySelector(".totalPrice").textContent = `${purchase.price}`;
      }

      function setPhoneLines(){
        let value = document.querySelector('#txtPhoneLines').value;
      }

      function selectCellPhone() {
        let elementSelection = document.querySelector('#txtCellPhones');
        // let option = elementSelection[elementSelection.selectedIndex];
        purchase.selectCellPhone(elementSelection.option);
        document.querySelector('#txtChosenCellPhones').add(elementSelection.selectedOptions[0]);
        document.querySelector(".totalPrice").textContent = `${purchase.price}`;
      }

      function deselectCellPhone() {
        let elementSelection = document.querySelector('#txtChosenCellPhones');
        let option = elementSelection[elementSelection.selectedIndex];
        purchase.deselectCellPhone(elementSelection.value);
        document.querySelector('#txtChosenCellPhones').removeChild(option);
        document.querySelector('#txtCellPhones').add(option);
        document.querySelector(".totalPrice").textContent = `${purchase.price}`;
      }
    </script>
  </body>
</html>
